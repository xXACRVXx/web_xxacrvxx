{% extends 'auth/layout_auth.html' %}

{% block head %}
<link rel="canonical" href="https://xxacrvxx.ydns.eu/regist" />
<link rel="alternative" href="https://wwww.xxacrvxx.ydns.eu/regist" />
{% endblock %}

<!-- Website Title -->
{% block title %}Registrarse{% endblock %}   

{% block header %}   
   <a class="btn-outline-sm" href="{{url_for('login')}}">Iniciar Sesion</a>
{% endblock %}


{% block content %}
    <!-- Header -->
    <header id="header" class="ex-2-header ex-paddin6">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">  
                   <!-- Sign Up Form -->
                    <div class="form-container">

                        <h1>Registrarse</h1>
                        {% if not get_flashed_messages(category_filter=["warning"]) %}
                            <p>¿Ya te registraste? si tiene una cuenta precione: <a class="white" href="{{url_for('login')}}">Iniciar Sesion</a></p>                    
                   		{% endif %}
                            <div>
                            {% with messages = get_flashed_messages(category_filter=["warning"]) %}
                              {% if messages %}
                               {% for message in messages %}
                                <p><b>{{message}} Si ya tiene cuenta inicie sesion <a class=white href="{{url_for('login')}}">aqui</a></b></p>
                                {% endfor %}
                              {% endif %}
                            {% endwith %}

						    {% with messages = get_flashed_messages(category_filter=["error"]) %}
                              {% if messages %}
                               {% for message in messages %}
                                <p><b>{{message}}</b></p>
                                {% endfor %}
                              {% endif %}
                            {% endwith %}

                            {% with messages = get_flashed_messages(category_filter=["success"]) %}
                              {% if messages %}
                               {% for message in messages %}
                                <p><b>{{message}}</b></p>
                                {% endfor %}
                              {% endif %}
                            {% endwith %}
						</div>

                        <form action="regist" method="post"  id="sing"  data-focus="false">
                            {{ form.hidden_tag() }}
                            <div class="form-group">
                                {{ form.email(class="form-control-input", required=True) }}
                                <label class="label-control" for="email">Correo</label>
                                <div class="help-block with-errors"></div>
                            </div>
                            <div class="form-group">
                                {{ form.username(class="form-control-input", required=True) }}
                                <label class="label-control" for="username">Usuario</label>
                                <div class="help-block with-errors"></div>
                            </div>
                            <div class="form-group" style="position: relative;">
                                {{ form.passw(class="form-control-input", required=True) }}
                                <label class="label-control" for="passw">Contraseña</label>
                                <button type="button" onclick="togglePassword('passw')" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; font-size: 12px; color: #666;" title="Mostrar/Ocultar contraseña">
                                    <span id="passw-toggle">mostrar</span>
                                </button>
                                <div class="help-block with-errors"></div>
                            </div>
                            <div class="form-group checkbox">
                                <input type="checkbox" id="sterms" value="Agreed-to-Terms" required>Estoy de acuerdo con <a href="{{url_for('privacy')}}">Política de privacidad</a> y <a href="{{url_for('ter_y_co')}}">Términos y condiciones</a>
                                <div class="help-block with-errors"></div>
                            </div>
                            <div class="form-group">
                                {{ form.submit(class="form-control-submit-button") }}
                            </div>
                            
                        </form>
                    </div> <!-- end of form container -->
                    <!-- end of sign up form -->
                </div> <!-- end of col -->
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header> <!-- end of ex-header -->
    <!-- end of header -->

{% endblock %}
